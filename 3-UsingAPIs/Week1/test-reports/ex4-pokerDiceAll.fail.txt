*** Unit Test Error Report ***

Command failed: npx jest ex4-pokerDiceAll.test.js --colors
npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.
Browserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating
 FAIL  3-UsingAPIs/Week1/unit-tests/ex4-pokerDiceAll.test.js
  ex4-pokerDiceAll
    √ should exist and be executable (1 ms)
    √ should have all TODO comments removed
    √ `rollDice` should not contain unneeded console.log calls (1 ms)
    √ should use `dice.map()`
    √ should use `Promise.all()`
    × should resolve when all dice settle successfully (1 ms)
    √ should reject with an Error when a die rolls off the table (1 ms)

  ● ex4-pokerDiceAll › should resolve when all dice settle successfully

    TypeError: object is not iterable (cannot read property Symbol(Symbol.iterator))
        at Function.all (<anonymous>)

      32 |   const results = [];
      33 |
    > 34 |   return Promise.all(rollDie(1), rollDie(2), rollDie(3), rollDie(4), rollDie(5))
         |                  ^
      35 |     .then(() => {
      36 |       return dice.map((value) => value);
      37 |     })

      at rollDice (3-UsingAPIs/Week1/homework/ex4-pokerDiceAll.js:34:18)
      at Object.<anonymous> (3-UsingAPIs/Week1/unit-tests/ex4-pokerDiceAll.test.js:53:21)

  ● ex4-pokerDiceAll › should resolve when all dice settle successfully

    expect.assertions(4)

    Expected four assertions to be called but received two assertion calls.

      46 |
      47 |   test('should resolve when all dice settle successfully', async () => {
    > 48 |     expect.assertions(4);
         |            ^
      49 |     expect(exported).toBeDefined();
      50 |
      51 |     const randomSpy = jest.spyOn(Math, 'random').mockReturnValue(0);

      at Object.<anonymous> (3-UsingAPIs/Week1/unit-tests/ex4-pokerDiceAll.test.js:48:12)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 6 passed, 7 total
Snapshots:   0 total
Time:        0.883 s, estimated 1 s
Ran all test suites matching /ex4-pokerDiceAll.test.js/i.
C:\Users\gokal\Desktop\Homework-class39\3-UsingAPIs\helpers\pokerDiceRoller.js:64
        reject(new Error(`Die ${die} rolled off the table.\n`));
               ^

Error: Die 1 rolled off the table.

    at rollOnce (C:\Users\gokal\Desktop\Homework-class39\3-UsingAPIs\helpers\pokerDiceRoller.js:64:16)
    at Timeout._onTimeout (C:\Users\gokal\Desktop\Homework-class39\3-UsingAPIs\helpers\pokerDiceRoller.js:77:26)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7)
*** ESLint Report ***

ex4-pokerDiceAll.js
  27:9  error  'resolveConfig' is assigned a value but never used  no-unused-vars

✖ 1 problem (1 error, 0 warnings)

